(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{447:function(e,s,t){"use strict";t.r(s);var a=t(29),r=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"cookie-parser"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie-parser"}},[e._v("#")]),e._v(" cookie-parser")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://npmjs.org/package/cookie-parser",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://badgen.net/npm/v/cookie-parser",alt:"NPM Version"}}),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://npmjs.org/package/cookie-parser",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://badgen.net/npm/dm/cookie-parser",alt:"NPM Downloads"}}),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://travis-ci.org/expressjs/cookie-parser",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://badgen.net/travis/expressjs/cookie-parser/master",alt:"Build Status"}}),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://coveralls.io/r/expressjs/cookie-parser?branch=master",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://badgen.net/coveralls/c/github/expressjs/cookie-parser/master",alt:"Test Coverage"}}),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Parse "),t("code",[e._v("Cookie")]),e._v(" header and populate "),t("code",[e._v("req.cookies")]),e._v(" with an object keyed by the cookie\nnames. Optionally you may enable signed cookie support by passing a "),t("code",[e._v("secret")]),e._v(" string,\nwhich assigns "),t("code",[e._v("req.secret")]),e._v(" so it may be used by other middleware.")]),e._v(" "),t("h2",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" cookie-parser\n")])])]),t("h2",{attrs:{id:"api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" API")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" express "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'express'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" cookieParser "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'cookie-parser'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" app "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("express")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cookieParser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),t("h3",{attrs:{id:"cookieparser-secret-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookieparser-secret-options"}},[e._v("#")]),e._v(" cookieParser(secret, options)")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("secret")]),e._v(" a string or array used for signing cookies. This is optional and if not specified, will not parse signed cookies. If a string is provided, this is used as the secret. If an array is provided, an attempt will be made to unsign the cookie with each secret in order.")]),e._v(" "),t("li",[t("code",[e._v("options")]),e._v(" an object that is passed to "),t("code",[e._v("cookie.parse")]),e._v(" as the second option. See "),t("a",{attrs:{href:"https://www.npmjs.org/package/cookie",target:"_blank",rel:"noopener noreferrer"}},[e._v("cookie"),t("OutboundLink")],1),e._v(" for more information.\n"),t("ul",[t("li",[t("code",[e._v("decode")]),e._v(" a function to decode the value of the cookie")])])])]),e._v(" "),t("h3",{attrs:{id:"cookieparser-jsoncookie-str"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookieparser-jsoncookie-str"}},[e._v("#")]),e._v(" cookieParser.JSONCookie(str)")]),e._v(" "),t("p",[e._v("Parse a cookie value as a JSON cookie. This will return the parsed JSON value if it was a JSON cookie, otherwise it will return the passed value.")]),e._v(" "),t("h3",{attrs:{id:"cookieparser-jsoncookies-cookies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookieparser-jsoncookies-cookies"}},[e._v("#")]),e._v(" cookieParser.JSONCookies(cookies)")]),e._v(" "),t("p",[e._v("Given an object, this will iterate over the keys and call "),t("code",[e._v("JSONCookie")]),e._v(" on each value, replacing the original value with the parsed value. This returns the same object that was passed in.")]),e._v(" "),t("h3",{attrs:{id:"cookieparser-signedcookie-str-secret"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookieparser-signedcookie-str-secret"}},[e._v("#")]),e._v(" cookieParser.signedCookie(str, secret)")]),e._v(" "),t("p",[e._v("Parse a cookie value as a signed cookie. This will return the parsed unsigned value if it was a signed cookie and the signature was valid. If the value was not signed, the original value is returned. If the value was signed but the signature could not be validated, "),t("code",[e._v("false")]),e._v(" is returned.")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("secret")]),e._v(" argument can be an array or string. If a string is provided, this is used as the secret. If an array is provided, an attempt will be made to unsign the cookie with each secret in order.")]),e._v(" "),t("h3",{attrs:{id:"cookieparser-signedcookies-cookies-secret"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookieparser-signedcookies-cookies-secret"}},[e._v("#")]),e._v(" cookieParser.signedCookies(cookies, secret)")]),e._v(" "),t("p",[e._v("Given an object, this will iterate over the keys and check if any value is a signed cookie. If it is a signed cookie and the signature is valid, the key will be deleted from the object and added to the new object that is returned.")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("secret")]),e._v(" argument can be an array or string. If a string is provided, this is used as the secret. If an array is provided, an attempt will be made to unsign the cookie with each secret in order.")]),e._v(" "),t("h2",{attrs:{id:"example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" express "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'express'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" cookieParser "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'cookie-parser'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" app "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("express")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cookieParser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" res")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Cookies that have not been signed")]),e._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Cookies: '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("cookies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Cookies that have been signed")]),e._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Signed Cookies: '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("signedCookies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("listen")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// curl command that sends an HTTP request with two cookies")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v('// curl http://127.0.0.1:8080 --cookie "Cho=Kim;Greet=Hello"')]),e._v("\n")])])]),t("h3",{attrs:{id:"mit-licensed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mit-licensed"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"LICENSE"}},[e._v("MIT Licensed")])])])}),[],!1,null,null,null);s.default=r.exports}}]);